/*
SQLyog Ultimate v12.5.0 (64 bit)
MySQL - 5.5.40 : Database - bookstore
*********************************************************************
*/

/*!40101 SET NAMES utf8 */;

/*!40101 SET SQL_MODE=''*/;

/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
CREATE DATABASE /*!32312 IF NOT EXISTS*/`bookstore` /*!40100 DEFAULT CHARACTER SET utf8 */;

USE `bookstore`;

/*Table structure for table `admins` */

DROP TABLE IF EXISTS `admins`;

CREATE TABLE `admins` (
  `aid` char(32) NOT NULL,
  `adminname` varchar(100) NOT NULL,
  `password` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`aid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/*Data for the table `admins` */

insert  into `admins`(`aid`,`adminname`,`password`) values 
('7','破益达','123'),
('8','大老鼠','123');

/*Table structure for table `book` */

DROP TABLE IF EXISTS `book`;

CREATE TABLE `book` (
  `bid` char(32) NOT NULL,
  `bname` varchar(100) DEFAULT NULL,
  `price` decimal(5,1) DEFAULT NULL,
  `author` varchar(20) DEFAULT NULL,
  `image` varchar(200) DEFAULT NULL,
  `cid` char(32) DEFAULT NULL,
  `del` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`bid`),
  KEY `cid` (`cid`),
  CONSTRAINT `book_ibfk_1` FOREIGN KEY (`cid`) REFERENCES `category` (`cid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/*Data for the table `book` */

insert  into `book`(`bid`,`bname`,`price`,`author`,`image`,`cid`,`del`) values 
('1','Java编程思想（第4版）',66.0,'qdmmy6','book_img/9317290-1_l.jpg','1',0),
('13547D5EB74F4496AE636E7A96316512','',0.0,'','book_img/72AD87AA883D4AE197C5EE9DAAB67403_7.jpg','1',1),
('17411A6DCB7040A49831718A365941B2','7酱日记',7.7,'厂长','book_img/94EDAF287D2F4EC4A8270192120B609B_7.jpg','DE91704623D242A8BC98FC9E63D8318A',1),
('2','Java核心技术卷1',68.5,'qdmmy6','book_img/20285763-1_l.jpg','1',0),
('3','Java就业培训教程',39.9,'张孝祥','book_img/8758723-1_l.jpg','1',0),
('4','Head First java',47.5,'（美）塞若','book_img/9265169-1_l.jpg','1',0),
('5','JavaWeb开发详解',83.3,'孙鑫','book_img/22788412-1_l.jpg','2',0),
('53AE40CC72044CAEAE708BA6C8D0AC3C','88',99.0,'88','book_img/1F2952C6A6C74AB487678AE7365B5218_t016bc4f02b62ca224e.jpg','1',1),
('6','Struts2深入详解',63.2,'孙鑫','book_img/20385925-1_l.jpg','2',0),
('6A290DC5246D46ACAA0CD60CD403ADE5','7酱日记',44.0,'7酱','book_img/4780186C33AE4DF4B8FD45DC5C162773_7.jpg','DE91704623D242A8BC98FC9E63D8318A',1),
('7','精通Hibernate',30.0,'孙卫琴','book_img/8991366-1_l.jpg','2',0),
('7F70DEE4078E402FBFE94118EAAB1E85','7酱的日常',5.0,'明凯','book_img/286E0C8D981D40FF94ED4192646DA6E8_7.jpg','DE91704623D242A8BC98FC9E63D8318A',0),
('8','精通Spring2.x',63.2,'陈华雄','book_img/20029394-1_l.jpg','2',0),
('9','Javascript权威指南',93.6,'（美）弗兰纳根','book_img/22722790-1_l.jpg','3',0);

/*Table structure for table `category` */

DROP TABLE IF EXISTS `category`;

CREATE TABLE `category` (
  `cid` char(32) NOT NULL,
  `cname` varchar(100) NOT NULL,
  PRIMARY KEY (`cid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/*Data for the table `category` */

insert  into `category`(`cid`,`cname`) values 
('1','JavaSE'),
('2','JavaEE'),
('3','Javascript'),
('DE91704623D242A8BC98FC9E63D8318A','clearlove7');

/*Table structure for table `orderitem` */

DROP TABLE IF EXISTS `orderitem`;

CREATE TABLE `orderitem` (
  `iid` char(32) NOT NULL,
  `count` int(11) DEFAULT NULL,
  `subtotal` decimal(10,2) DEFAULT NULL,
  `oid` char(32) DEFAULT NULL,
  `bid` char(32) DEFAULT NULL,
  PRIMARY KEY (`iid`),
  KEY `oid` (`oid`),
  KEY `bid` (`bid`),
  CONSTRAINT `orderitem_ibfk_1` FOREIGN KEY (`oid`) REFERENCES `orders` (`oid`),
  CONSTRAINT `orderitem_ibfk_2` FOREIGN KEY (`bid`) REFERENCES `book` (`bid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/*Data for the table `orderitem` */

insert  into `orderitem`(`iid`,`count`,`subtotal`,`oid`,`bid`) values 
('031BE9B5A1654033944A60A6D662D425',1,66.00,'6B28ADE9C9954425A4B34F1CB6189A00','1'),
('0DBADC9CCDB0467F8CD5AA75A47BF85C',1,94.00,'A89D4C2BE7CB4CB69801D9431182F70B','9'),
('19E5380856214F958DB0DC4584A53836',1,40.00,'52FEB3A07AFE4E8AB62CC3D28C80BAC1','3'),
('3339DB1537DC424EB6BE70BDD76CE84D',1,93.60,'ED25BB2A065A41C2927A6BE00D394195','9'),
('57F10338982441F99449B3009A2864B0',2,137.00,'52FEB3A07AFE4E8AB62CC3D28C80BAC1','2'),
('5FF18A67F081488EBBDDBA4130946C6E',1,68.50,'F64EB3FADA3C4E0D9E20AD3F1F959240','2'),
('6FDEB7084F32483ABCCA94C3E85F0802',1,30.00,'ED25BB2A065A41C2927A6BE00D394195','7'),
('819F43A5F10B4DBB9D05FAD4F8F6AE72',1888,83072.00,'6B28ADE9C9954425A4B34F1CB6189A00','6A290DC5246D46ACAA0CD60CD403ADE5'),
('823CA839825F478ABD0C136E4EB9D431',1,30.00,'A89D4C2BE7CB4CB69801D9431182F70B','7'),
('AE7B2A1F3A1F4676A339DC24B8EE53E1',1,75.60,'ED25BB2A065A41C2927A6BE00D394195','1'),
('E36CF58C04B74827AE18F6AE8CDA486F',1,47.50,'6B28ADE9C9954425A4B34F1CB6189A00','4'),
('EA140E34D9464EF197C82D7F8A2FDAD1',1,75.60,'4F7B6F8D01814E0480361101BE6E30BE','1'),
('F8EDC20FB97D4D29B209E8254F9CDA89',1,76.00,'A89D4C2BE7CB4CB69801D9431182F70B','1'),
('FF11DAD390D244F693971B431EEEFC86',1,44.00,'6F7D2282151A43D7ADD71B883EFD1267','6A290DC5246D46ACAA0CD60CD403ADE5');

/*Table structure for table `orders` */

DROP TABLE IF EXISTS `orders`;

CREATE TABLE `orders` (
  `oid` char(32) NOT NULL,
  `ordertime` datetime DEFAULT NULL,
  `total` decimal(10,2) DEFAULT NULL,
  `state` smallint(1) DEFAULT NULL,
  `uid` char(32) DEFAULT NULL,
  `address` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`oid`),
  KEY `uid` (`uid`),
  CONSTRAINT `orders_ibfk_1` FOREIGN KEY (`uid`) REFERENCES `tb_user` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/*Data for the table `orders` */

insert  into `orders`(`oid`,`ordertime`,`total`,`state`,`uid`,`address`) values 
('4F7B6F8D01814E0480361101BE6E30BE','2018-10-11 20:54:46',75.60,4,'063177FC32294F42BDD21C9FEAFAC27B',NULL),
('52FEB3A07AFE4E8AB62CC3D28C80BAC1','2018-10-09 19:35:38',177.00,3,'063177FC32294F42BDD21C9FEAFAC27B',NULL),
('6B28ADE9C9954425A4B34F1CB6189A00','2018-10-15 13:58:10',83185.50,1,'063177FC32294F42BDD21C9FEAFAC27B',NULL),
('6F7D2282151A43D7ADD71B883EFD1267','2018-10-15 10:58:30',44.00,2,'063177FC32294F42BDD21C9FEAFAC27B',NULL),
('A89D4C2BE7CB4CB69801D9431182F70B','2018-10-09 19:39:31',199.20,4,'063177FC32294F42BDD21C9FEAFAC27B',NULL),
('ED25BB2A065A41C2927A6BE00D394195','2018-10-09 19:49:30',199.20,1,'063177FC32294F42BDD21C9FEAFAC27B',NULL),
('F64EB3FADA3C4E0D9E20AD3F1F959240','2018-10-11 21:00:04',68.50,1,'063177FC32294F42BDD21C9FEAFAC27B',NULL);

/*Table structure for table `tb_user` */

DROP TABLE IF EXISTS `tb_user`;

CREATE TABLE `tb_user` (
  `uid` char(32) NOT NULL,
  `username` varchar(50) NOT NULL,
  `password` varchar(50) NOT NULL,
  `email` varchar(50) NOT NULL,
  `code` char(64) NOT NULL,
  `state` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/*Data for the table `tb_user` */

insert  into `tb_user`(`uid`,`username`,`password`,`email`,`code`,`state`) values 
('063177FC32294F42BDD21C9FEAFAC27B','77777','88888','ZYSLQD@163.com','B491D53906214031864EA5F09E3F2E90570B4928246F410B8F5C6AF50F2950F5',1),
('F34810EB60674112A1659DD70CF74CD5','456','44444','2224022091@qq.com','03254C58DC1D40BFA2F9D32B6FCB29FB89D42FD05C99416191D8B9C7ED6053DB',0);

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
